<head>
  <style>
  table {
    border-collapse: collapse;
    width: 100%;
  }
  
  th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 10px;
  }

  td {
    border: 1px solid #dddddd;
    text-align: right;
    padding: 8px;
  }

  table.center {
    margin-left: auto; 
    margin-right: auto;
   }
  </style>
</head>

  <body>
    <div class="text-center">
      <h1> 
      <img 
        style = "width: 5%"
        src="https://firebasestorage.googleapis.com/v0/b/projectcovid-d9ab2.appspot.com/o/ProjectCovid_icon.png?alt=media&token=b82cfa5a-2cb4-48cd-aa20-cf3ff0db15c5" 
        alt="Covid icon"/>  COVID-19</h1>
      <p style="font-size: 2vw;"> Live Updates and Statistics</p>
    </div>

    <div class = "mt-3, text-center" *ngIf = "specCountry">
      <b><a href="">Worldwide</a> > {{specCountry.Country}}</b>
    </div>

    <div class = "mt-3" *ngIf = "specCountry">
      <table class = "center">
        <tr style="background-color:rgba(179, 150, 97, 0.267)">
          <th>Corona Virus Summary in {{specCountry.Country}}</th>
        </tr>
      </table>
    </div>

    
    <div class = "mt-3" *ngIf = "specCountry">
      <table class="center">
        <tr style="background-color:rgb(240, 228, 253)">
          <th>Total Cases</th>
          <td>{{specCountry.TotalConfirmed | number}}</td>
        </tr>
        <tr style="background-color:rgb(240, 228, 253)">
          <th>New Cases</th>
          <td>{{specCountry.NewConfirmed | number}}</td>
        </tr>
        <tr style="background-color:rgb(240, 228, 253)">
          <th>Active Cases</th>
          <td>{{country_active_cases | number}}</td>
        </tr>
        <tr style="background-color:rgb(212, 197, 231)">
          <th>Total recovered</th>
          <td>{{specCountry.TotalRecovered | number}}</td>
        </tr>
        <tr style="background-color:rgb(212, 197, 231)">
          <th>New Recovered</th>
          <td>{{specCountry.NewRecovered | number}}</td>
        </tr>
        <tr style="background-color:rgb(212, 197, 231)">  
          <th>Recovery Rate</th>
          <td>{{country_recovery_rate}}%</td>
        </tr>
        <tr style="background-color:rgba(143, 112, 194, 0.747)">
          <th>Total Deaths</th>
          <td>{{specCountry.TotalDeaths | number}}</td>
        </tr>
        <tr style="background-color:rgba(143, 112, 194, 0.747)">  
          <th>New Deaths</th>
          <td>{{specCountry.NewDeaths | number}}</td>
        </tr>
        <tr style="background-color:rgba(143, 112, 194, 0.747)"> 
          <th>Mortality Rate</th>
          <td>{{country_mortality_rate}}%</td>
        </tr>
      </table>
    </div>
  
    <div class = "mt-3" *ngIf = "specCountry">
      <table class = "center">
        <tr style="background-color:rgba(179, 150, 97, 0.267)">
          <th>Corona Virus Cases Distribution in {{specCountry.Country}}</th>
        </tr>
      </table>
    </div>

<!-- ################PIE CHART######################################################## -->

    <div class = "mt-3" *ngIf = "specCountry && pieChartData">
      <div>
        <div class="chart">
          <canvas baseChart
            [data] = "pieChartData"
            [labels]="pieChartLabels"
            [chartType]="pieChartType"
            [options]="pieChartOptions"
            [plugins]="pieChartPlugins"
            [colors]="pieChartColors"
            [legend]="pieChartLegend">
          </canvas>
        </div>
      </div>
    </div>

    <div class = "mt-3" *ngIf = "specCountry">
      <table class = "center">
        <tr style="background-color:rgba(179, 150, 97, 0.267)">
          <th>Daily Corona Virus Cases in {{specCountry.Country}}</th>
        </tr>
      </table>
    </div>

<!-- ################BAR CHART######################################################## -->

    <div style="display: block" class = "mt-3" *ngIf="barChartData">
      <canvas baseChart
        [datasets]="barChartData"
        [labels]="barChartLabels"
        [options]="barChartOptions"
        [plugins]="barChartPlugins"
        [legend]="barChartLegend"
        [chartType]="barChartType"
        [colors]="barChartColors">
      </canvas>
    </div>

    <div class = "mt-3" *ngIf = "specCountry">
      <table class = "center">
        <tr style="background-color:rgba(179, 150, 97, 0.267)">
          <th>Total Corona Virus Cases in {{specCountry.Country}}</th>
        </tr>
      </table>
    </div>


    <!-- ################LINE CHART######################################################## -->

    <div class="flex-item">
        <div style="display: block;" *ngIf = "lineChartData">
        <canvas baseChart 
          [datasets]="lineChartData"
          [labels]="lineChartLabels"
          
          [colors]="lineChartColors"
          [legend]="lineChartLegend"
          [chartType]="lineChartType"
          [plugins]="lineChartPlugins">
      </canvas>
      <!-- [options]="lineChartOptions" -->
      </div>
    </div>

        <!-- ###############News section############################################################################## -->

        <div class = "mt-3" *ngIf = "specCountry">
          <table class = "center">
            <tr style="background-color:rgba(179, 150, 97, 0.267)">
              <th>{{specCountry.Country}} Corona Virus News</th>
            </tr>
          </table>
        </div>

        <div class="my-3" *ngIf="news && news.length > 0">
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>Date</th>
                <th>Description</th>
                <th>User</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let new of news">
                 <td>{{ new.date.toDate() | date}}</td>
                <td>{{ new.description }}</td>
                <td>{{ new.username }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="my-3" *ngIf="news && news.length == 0">
          No news available.
        </div>
        

    <div class = "mt-3">
      <table class = "center">
        <tr style="background-color:rgba(179, 150, 97, 0.267)">
          <th style = "text-align: center">Data Source: <a href="https://covid19api.com/">COVID-19 API / Johns Hopkins CSSE</a></th>
        </tr>
      </table>
    </div>

